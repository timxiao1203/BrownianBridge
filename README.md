# Brownian Bridge Algorithm

The Brownian bridge algorithm has been implemented for stress testing within the Risk Management framework. It is used for generation of multidimensional random paths whose initial and ending points are predetermined and fixed. 

In the context of stress testing this algorithm is used for efficient generation of specific scenarios subject to certain extreme and generally unlikely conditions. If paths were generated by a conventional Monte-Carlo method only a very small portion of all the paths would satisfy such conditions.

The Brownian Bridge algorithm belongs to the family of Monte Carlo or Quasi-Monte Carlo methods with reduced variance. It generates sample paths which all start at the same initial point and end, at the same moment of time, at the same final point. 

Consider a stochastic process of the form 

 							(1)

where z is a standard Brownian motion. 

A random jump from a point x0 at time 0 to a point xT at time T can thus be expressed as

			 						(2)

Given the initial point x0 and the final point xT, the Brownian bridge algorithm provides the formula for an intermediate point xt:

 				(3)
where 
 

Once xt has been determined, formula (3) can be used for the subintervals (0, t) and (t,T). The recursive implementation of the algorithm produces a random path connecting x0 and xT.

If a random process xt is described by eq. (1), the conditional probability that xt takes on the value xf at some final time tf provided that at the starting time ti it was xi and at an intermediate time t it was x is

 =
 
 	(4)

Eq. (4) is a product of the two factors: the first is the probability of getting to point xf at time tf starting from point xi at time ti, and the second is the probability of passing through point x at time t given those initial and final points.

It is the second factor in formula (4) that gives the distribution of points on the paths connecting fixed initial and final points, i.e. those generated by the Brownian bridge algorithm. In particular, according to eq. (4) for any given time t between tf and ti the distribution of points x should be normal with the mean

 					(5)

and variance

			 					(6).

Note that the function  represents a straight line connecting the initial and final points. Note also that eq. (6) can be cast into a slightly different form:
 
 					(6a)

The Brownian Bridge algorithm is also very useful for valuing exotic derivatives via Monte Carlo approach. Most exotic products have callable and barrier features. Both callable and barrier characterizations can terminate a trade earlier. You can find barrier feature at https://finpricing.com/lib/EqBarrier.html


